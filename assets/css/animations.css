/* ===================================
  FishEye - Animations & Transitions
=================================== */
@keyframes rotate {
  to {
    transform: rotate(360deg);
  }
}

@keyframes hide-loading {
  to {
    opacity: 0;
    visibility: hidden;
    pointer-events: none;
  }
}

@keyframes pulse {
  0%,
  100% {
    opacity: 1;
    transform: scale(1);
  }

  50% {
    opacity: 0.7;
    transform: scale(0.95);
  }
}

@keyframes fade-in {
  from {
    opacity: 0;
  }
}

@keyframes fade-out {
  to {
    opacity: 0;
    visibility: hidden;
  }
}

@keyframes shimmer {
  to {
    background-position: -200% 0;
  }
}

@keyframes scale-in {
  from {
    opacity: 0;
    transform: scale(0.9);
  }
}

/* =========================
  Modal Animations
========================= */
.modal,
.lightbox-modal {
  transition:
    opacity 0.2s ease,
    visibility 0.2s ease;
}

.modal.show,
.lightbox-modal.show {
  animation: modal-fade-in 0.2s ease forwards;
}

.modal.show .modal-content {
  animation: modal-slide-up 0.25s ease-out forwards;
  will-change: transform;
}

.modal.closing,
.lightbox-modal.closing {
  animation: modal-fade-out 0.25s ease forwards;
}

.modal.closing .modal-content {
  animation: modal-slide-down 0.2s ease-in forwards;
  will-change: transform;
}

@keyframes modal-fade-in {
  from {
    opacity: 0;
    backdrop-filter: blur(0);
  }
}

@keyframes modal-slide-up {
  from {
    transform: translate(-50%, -150%);
    opacity: 0;
  }

  to {
    transform: translate(-50%, -50%);
    opacity: 1;
  }
}

@keyframes modal-fade-out {
  to {
    opacity: 0;
    backdrop-filter: blur(0);
  }
}

@keyframes modal-slide-down {
  from {
    transform: translate(-50%, -50%);
    opacity: 1;
  }

  to {
    transform: translate(-50%, -150%);
    opacity: 0;
  }
}

/* Mobile Modal Animations */
@media (width <= 767px) {
  .modal.show .modal-content {
    animation: modal-slide-up-mobile 0.25s ease-out forwards;
    will-change: transform;
  }

  .modal.closing .modal-content {
    animation: modal-slide-down-mobile 0.2s ease-in forwards;
    will-change: transform;
  }

  @keyframes modal-slide-up-mobile {
    from {
      transform: translateY(-100%);
      opacity: 0;
    }

    to {
      transform: translateY(0);
      opacity: 1;
    }
  }

  @keyframes modal-slide-down-mobile {
    from {
      transform: translateY(0);
      opacity: 1;
    }

    to {
      transform: translateY(-100%);
      opacity: 0;
    }
  }
}

/* =========================
  Lightbox Animations
========================= */
.lightbox-close,
.lightbox-nav {
  transition: all 0.2s ease;
}

.lightbox-transition {
  transition:
    opacity 0.1s ease,
    transform 0.1s ease;
}

.lightbox-hidden {
  opacity: 0;
  transform: scale(0.85);
}

.lightbox-visible {
  opacity: 1;
  transform: scale(1);
}

.lightbox-modal.show .lightbox-media-container {
  animation: lightbox-zoom-in 0.15s ease forwards;
}

.lightbox-modal.show .lightbox-close,
.lightbox-modal.show .lightbox-nav {
  animation: fade-in-up 0.15s ease 0.05s both;
}

.lightbox-modal.closing .lightbox-media-container {
  animation: lightbox-zoom-out 0.1s ease forwards;
}

.lightbox-modal.closing .lightbox-close,
.lightbox-modal.closing .lightbox-nav {
  animation: fade-out-down 0.1s ease both;
}

@keyframes lightbox-zoom-in {
  from {
    transform: scale(0.8);
    opacity: 0;
  }
}

@keyframes lightbox-zoom-out {
  to {
    transform: scale(0.8);
    opacity: 0;
  }
}

@keyframes fade-in-up {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
}

@keyframes fade-out-down {
  to {
    opacity: 0;
    transform: translateY(10px);
  }
}

/* =========================
  Like Button Animations
========================= */
.media-info .likes {
  transition: all 0.2s ease;
}

.media-info .likes:active {
  animation: heart-pulse 0.4s ease;
}

.media-info .likes i {
  transition: transform 0.2s ease;
}

.media-info .likes:active i,
.media-info .likes .pulse {
  animation: heart-pulse 0.5s ease;
}

.media-info .likes .pulse {
  color: #e74c3c;
}

@keyframes heart-pulse {
  0%,
  100% {
    transform: scale(1);
  }

  25% {
    transform: scale(1.2);
  }

  50% {
    transform: scale(1.05);
  }

  75% {
    transform: scale(1.1);
  }
}

/* =========================
  Sort Button Animations
========================= */
@keyframes slide-down {
  from {
    opacity: 0;
    transform: translateY(-10px);
  }
}

@keyframes slide-up {
  to {
    opacity: 0;
    transform: translateY(-10px);
  }
}

@keyframes slide-in-stagger {
  from {
    opacity: 0;
    transform: translateX(-10px);
  }
}

@keyframes card-sorting {
  0%,
  100% {
    opacity: 1;
    transform: scale(1);
  }

  50% {
    opacity: 0.5;
    transform: scale(0.95);
  }
}

/* =========================
  Utility Classes
========================= */
.fade-in {
  animation: fade-in 0.2s ease forwards;
}

.fade-out {
  animation: fade-out 0.2s ease forwards;
}

.scale-in {
  animation: scale-in 0.2s ease forwards;
}

/* =========================
  Performance Optimization
========================= */
.modal,
.lightbox-modal,
.sort-options,
.loading-screen {
  will-change: opacity, transform;
}
