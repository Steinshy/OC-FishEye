import {getFormElements as a} from'../../config.js';import {aria as b} from'../accessibility/aria.js';import {events as c} from'../accessibility/keyboard.js';let d=500,e=null,f=(A,_)=>{A.classList.remove('warning','danger');_&&A.classList.add(_)},h=()=>{const{message:C,characterCount:_b}=a();if(!C||!_b)return;const{length:_c}=C.value;_b.textContent=`${_c}/${d}`;f(_b,_c>=d?'danger':_c>=d*0.9?'warning':'')},removeCharacterCountListeners=()=>{e?.detach();e=null};export let resetCharacterCount=()=>{const{characterCount:B}=a();if(!B)return;B.textContent='0/500';f(B,'');b.setLive(B,'polite')};export let addCharacterCountListeners=()=>{const{message:_a}=a();if(!_a)return;e=c.createEventManager(['input','keyup','paste'].map(D=>({element:_a,event:D,handler:h})));e.attach()};