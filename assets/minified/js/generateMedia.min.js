import {isMobileOrTablet as a} from'../../helpers/helper.js';import {getMediaResponsiveUrls as b,getResponsivePosterUrl as c,} from'../../helpers/responsiveImages.js';let d=(A,_=!1)=>{let B=document.createElement('div');B.className='media-picture';B.setAttribute('data-media-type','image');B.setAttribute('data-media-id',A.id);const{webp:D,jpg:E}=b(A,_);B.innerHTML=`
    <picture>
      <source srcset="${D.url}" type="image/webp" />
      <source srcset="${E.url}" type="image/jpeg" />
      <img
        class="media-image"
        src="${E.url}"
        alt="${A.title||'Média'}"
        loading="lazy"
        fetchpriority="low"
        decoding="async"
        data-media-id="${A.id}"
        aria-describedby="media-info-${A.id}"
      />
    </picture>
  `;return B},e=(C,_b=!1)=>{let _c=document.createElement('div'),_e=C.medias.mp4Url.replace('.mp4','.vtt');_c.className='media-video';_c.setAttribute('data-media-type','video');_c.setAttribute('data-media-id',C.id);let _d=c(C.medias.posterUrl,_b?!1:a());_c.innerHTML=`
    <video
      data-media-type="video"
      data-media-id="${C.id}"
      poster="${_d}"
      preload="none"
      fetchpriority="auto"
      controls
      controlsList="nodownload"
      playsinline
      class="media-video-player"
      aria-label="${C.title||'Vidéo'}"
      aria-describedby="media-info-${C.id}"
      tabindex="0"
    >
      <source src="${C.medias.mp4Url}" type="video/mp4">
      <track
        kind="captions"
        src="${_e}"
        srclang="fr"
        label="Français"
      >
      Votre navigateur ne supporte pas la lecture de vidéos.
    </video>
  `;return _c};export let generateMedia=(_a,_B=!1)=>{if(!_a)return null;switch(_a.mediaType) {case 'image':return d(_a,_B);case 'video':return e(_a,_B);default:return null}};