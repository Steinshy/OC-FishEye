import {getModalRefs as a} from'../../config.js';const{mainModal:b,content:c}=a(),d=()=>!!b?.classList?.contains('show');export let mobileKeyboard={isMobile:/Mobile/i.test(navigator.userAgent)||window.innerWidth<=768,initialHeight:window.innerHeight,activeInput:null,init(){if(!this.isMobile)return;window.addEventListener('resize',this.handleResize.bind(this));document.addEventListener('focusin',this.handleFocus.bind(this));document.addEventListener('focusout',this.handleBlur.bind(this));window.visualViewport?.addEventListener('resize',this.handleResize.bind(this))},handleResize(){let A=this.initialHeight-window.innerHeight>150;if(!c)return;c.classList.toggle('keyboard-open',A);(A&&this.activeInput)&&this.scrollToInput()},handleFocus(_){d()&&(this.activeInput=_.target,setTimeout(()=>this.scrollToInput(),200))},handleBlur(B){this.activeInput===B.target&&(this.activeInput=null)},scrollToInput(){if(!this.activeInput||!c)return;let C=this.activeInput.getBoundingClientRect(),_b=window.innerHeight-(this.initialHeight-window.innerHeight);C.bottom>_b&&(c.scrollTop+=C.bottom-_b+20)},resetModalPosition(){d()&&c?.classList.remove('keyboard-open')}};