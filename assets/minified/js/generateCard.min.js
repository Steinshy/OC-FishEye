import {media as a} from'../../config.js';import {aria as b} from'../../utils/accessibility/aria.js';let c=A=>{let _=A.querySelector(a.content),B=_?.querySelector(a.mediaElement),e=B.tagName==='VIDEO',f=e?B.readyState>=2:B.complete;if(!B)return;let D=()=>_.classList.replace('loading','loaded');B.addEventListener(e?'loadeddata':'load',D,{once:!0});B.addEventListener('error',D,{once:!0});f&&D()},d=C=>{let _b=document.createElement('div');_b.innerHTML=`
    <div class="media-info" id="media-info-${C.id}">
      <h3>${C.title}</h3>
      <button
          type="button"
          class="likes"
          aria-describedby="likes-count-${C.id}"
          aria-label="Aimer cette ${C.mediaType}"
          tabindex="0">
          <i class="fas fa-heart" aria-hidden="true"></i>
          <span id="likes-count" aria-live="polite">${C.likes}</span>
        </button>
    </div>
  `;return _b};export let generateCard=(_a,_B)=>{if(!_a||!_B)return null;let _c=document.createElement('article');_c.className='media-card';_c.setAttribute('data-media-id',_a.id||'');b.setRole(_c,'listitem');b.setLabel(_c,`MÃ©dia: ${_a.mediaType} - ${_a.title||''} - ${_a.likes||0} likes`);b.setDescribedBy(_c,`media-info-${_a.id}`);let _d=document.createElement('div');_d.className='media-content loading';b.setDescribedBy(_d,`media-info-${_a.id}`);_d.appendChild(_B);_c.appendChild(_d);_c.appendChild(d(_a));c(_c);return _c};