import {getFormElements as a,getModalRefs as b,} from'../../config.js';import {sleep as c,toggleElementsDisabled as d,getFormInputsArray as A,getFormValues as f,} from'../../helpers/helper.js';import {logData as g} from'../../helpers/logData.js';import {errorDisplay as h} from'../errorHandler.js';import {submitButtonState as i} from'./submitButtonState.js';import {submitValidation as j} from'./validation.js';export let submitForm=async (e,_)=>{e.preventDefault();h?.resetErrorVisibility();if(!j()){i?.hide();return}await l(_)};let l=async B=>{let C=A(a());g.formSubmission(f(a()));d([...C,b().closeButton],!0);i.setLoading();await c(1000);i.setSuccess();for(const _a of C){_a.classList.add('success');_a.dataset.valid='true';_a.dataset.errorVisible='false'}await c(1500);d([...C,b().closeButton],!1);i.reset();B?.()};